# **SIMPLE-POTATO**
### Unidirection File Trasfer
Передача файлов через диод данных с помощью протокола udp.

## Описание работы

Состоит из двух частей, передатчика файлов и приемника файлов. Каждый компонентработает в автоматическом режиме, запуускается в виде службы, имеет конфигурационный файл в формате json, ведет лог.

1. **Sender/Передатчик** постоянно проверяет сожержимое указанной в конфигурационном файле директории. При обнаружении в ней нового файла открывает его, сжимает и передает по протоколу udp по указанному в конфигурационном файле ip-адресу. После завершения передачи файла, тот переносится в директорию с переданными файлами, указанную в конфигурационном файле. Каждое действие логируется.
2. **Receiver/Приемник** слушает указанный в конфигурационном файле порт, распаковывает полученные данные, проверяет их целостность и если все ОК, сохраняет его во временную директорию. Когда передача файла будет закончена, файл перемещается в директорию с заугруженными файлами.


## Типы пакетов, передаваемых от передатчика приемнику файлов

1. Метаданные файла
2. Данные файла
3. Пакеты с командой

## TODO
1. Предусмотреть действия на случай потери пакетов:
   1. потеря командного пакета о начале передачи: отправлять это сообщение несколько раз, предусмотреть создание объекта по получении любого пакета с новым SessionID
   2. потеря пакета с данными: 
        - СЛОЖНО: реализовать избыточное кодирование 
        - ПРОСТО: посылать пакеты несколько раз (x2|x3)
   3. потеря командного пакета, с сообщением об окончании передачи:
        - посылать пакет несколько раз
        - добавить тайм-аут, по истечении которого сборка данных начинается автоматически (5 сек)
2. Добавить асинхронности - перевести все на горутины
3. Реализовать разархивирование и сохранение полученных файлов на диск
